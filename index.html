<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Portfolio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Handlee&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Custom Cursor with Halo -->
    <div class="cursor-halo" id="cursorHalo"></div>
    <div class="custom-cursor" id="customCursor"></div>
    <!-- Header Navigation -->
    <header class="header">
        <nav class="nav-menu">
            <a href="#intro" class="nav-item active">About me</a>
            <a href="#achievements" class="nav-item">Achievements</a>
            <a href="#experience" class="nav-item">Experience</a>
            <a href="#design-process" class="nav-item">Design Process</a>
            <a href="#projects" class="nav-item">Projects</a>
            <a href="#contact" class="nav-item">Contact</a>
        </nav>
    </header>

    <!-- Main Container -->
    <div class="scroll-container" id="mainContainer">
        <div class="blackboard">
            <!-- Left Side: Hero Image - FIXED -->
            <div class="left-section">
                <div class="hero-image-wrapper">
                    <div class="tv-screen">
                        <video
                            src="Hero images/HeroImageVideo.mp4"
                            class="hero-image active"
                            id="heroImage1"
                            autoplay
                            loop
                            muted
                            playsinline
                            preload="auto"
                        ></video>
                        <video
                            src="Hero images/Achievements.mp4"
                            class="hero-image"
                            id="heroImage2"
                            autoplay
                            loop
                            muted
                            playsinline
                            preload="auto"
                        ></video>
                    </div>
                    <img src="Hero images/tvframe.png" alt="TV Frame" class="tv-frame-img">
                </div>
            </div>

            <!-- Right Side: Sliding Content -->
            <div class="right-content-container" id="rightContent">
                <!-- Slide 1: Introduction -->
                <div class="content-slide intro-slide">
                    <div class="right-section">
                        <div class="intro-section">
                            <h1 class="intro-title">Hi, Welcome to my story.</h1>
                            <h2 class="intro-name">I'm Rupesh Pamaihgari</h2>
                            <h3 class="intro-subtitle">Staff Product Designer @ Sense | AR/VR/XR Developer</h3>
                            <p class="intro-text">
                                I bridge the gap between complex code and human experience. With over <span class="glow-highlight">10 years of
                                experience</span>, I specialize in productizing <span class="glow-highlight">AI Agents</span> and SaaS tools from 0 ‚Üí 1.
                            </p>
                            <p class="intro-text">
                                I have led the end-to-end design of <span class="glow-highlight">10+ complex platforms</span>, crafting every detail from
                                research to release.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Slide 2: Achievements Carousel -->
                <div class="content-slide achievements-slide">
                    <div class="right-section">
                        <div class="achievements-header">
                            <div class="section-subtitle">Achievements - Milestones that define my drive</div>
                        </div>

                        <div class="accordion" id="achievementsAccordion">
                            <div class="accordion-item">
                                <button class="accordion-trigger" type="button" aria-expanded="false" aria-controls="achv-panel-1" id="achv-trigger-1">
                                    <span class="accordion-title">Winner: MIT ‚ÄúReality Virtually‚Äù Hackathon (2019) ‚Äî Boston, MA</span>
                                    <span class="accordion-icon" aria-hidden="true">+</span>
                                </button>
                                <div class="accordion-panel" id="achv-panel-1" role="region" aria-labelledby="achv-trigger-1" aria-hidden="true">
                                    <p class="accordion-text"><strong>The Challenge:</strong> How can we make roads safer?</p>
                                    <p class="accordion-text"><strong>The Solution:</strong> I developed an AR/VR solution to solve high-demand use cases: helping people drive better, automating driving tests, monitoring cab driver performance, and assisting insurance companies with compliance.</p>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <button class="accordion-trigger" type="button" aria-expanded="false" aria-controls="achv-panel-2" id="achv-trigger-2">
                                    <span class="accordion-title">Winner: Bayer Integrated Digital Label Hackathon (2022)</span>
                                    <span class="accordion-icon" aria-hidden="true">+</span>
                                </button>
                                <div class="accordion-panel" id="achv-panel-2" role="region" aria-labelledby="achv-trigger-2" aria-hidden="true">
                                    <p class="accordion-text"><strong>The Challenge:</strong> How can we empower farmers with data?</p>
                                    <p class="accordion-text"><strong>The Solution:</strong> I designed an accessible digital solution providing farmers with detailed product-specific information, usage guidelines, and delivery tracking‚Äîdirectly impacting their productivity and profitability.</p>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <button class="accordion-trigger" type="button" aria-expanded="false" aria-controls="achv-panel-3" id="achv-trigger-3">
                                    <span class="accordion-title">Winner: HackerEarth‚Äôs First Game Development Hackathon (2016)</span>
                                    <span class="accordion-icon" aria-hidden="true">+</span>
                                </button>
                                <div class="accordion-panel" id="achv-panel-3" role="region" aria-labelledby="achv-trigger-3" aria-hidden="true">
                                    <p class="accordion-text"><strong>The Challenge:</strong> Stand out among 10,000+ global developers.</p>
                                    <p class="accordion-text"><strong>The Story:</strong> Winning this highly competitive event in the early stages of my career was a pivotal moment. It validated my skills in game development and fueled the confidence I carry into every project today.</p>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <button class="accordion-trigger" type="button" aria-expanded="false" aria-controls="achv-panel-4" id="achv-trigger-4">
                                    <span class="accordion-title">2√ó Consecutive Winner: Sense Internal Star Award</span>
                                    <span class="accordion-icon" aria-hidden="true">+</span>
                                </button>
                                <div class="accordion-panel" id="achv-panel-4" role="region" aria-labelledby="achv-trigger-4" aria-hidden="true">
                                    <p class="accordion-text"><strong>The Recognition:</strong> Awarded for ‚ÄúBest Collaboration and Contribution to Success.‚Äù A testament to my belief that great products are built by great teams.</p>
                                </div>
                            </div>
                        </div>

                        <p class="achievements-body">
                            Beyond these, I have been a runner-up and finalist in several other innovation challenges, constantly testing my limits.
                        </p>
                    </div>
                </div>

                <!-- Slide 3: Experience Carousel -->
                <div class="content-slide experience-slide">
                    <div class="right-section">
                        <div class="achievements-header">
                            <h2 class="section-title">Experience</h2>
                            <div class="section-subtitle">From Game Worlds to Enterprise Ecosystems.</div>
                        </div>

                        <p class="experience-body">
                            If you‚Äôre wondering how a game developer participating in AR/VR hackathons evolved into a Staff Product Designer for complex SaaS platforms, here is how the chapters unfold.
                        </p>

                        <div class="accordion" id="experienceAccordion">
                            <div class="accordion-item">
                                <button class="accordion-trigger" type="button" aria-expanded="false" aria-controls="exp-panel-1" id="exp-trigger-1">
                                    <span class="accordion-title">2012-2015 <span class="pipe-highlight">|</span> The Spark: Gaming &amp; Empathy</span>
                                    <span class="accordion-icon" aria-hidden="true">+</span>
                                </button>
                                <div class="accordion-panel" id="exp-panel-1" role="region" aria-labelledby="exp-trigger-1" aria-hidden="true">
                                    <p class="accordion-text">
                                        My passion for design began before I even graduated. Leading a team of four, I developed games that reached over 500k+ users on the Play Store. This was my crash course in user behavior. Game development taught me that the "User Experience" is the only thing that keeps a player engaged. It was here that I learned to truly empathize with the user.
                                    </p>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <button class="accordion-trigger" type="button" aria-expanded="false" aria-controls="exp-panel-2" id="exp-trigger-2">
                                    <span class="accordion-title">2015-19 <span class="pipe-highlight">|</span> Global Scale @ <span class="glow-highlight">Unisys</span></span>
                                    <span class="accordion-icon" aria-hidden="true">+</span>
                                </button>
                                <div class="accordion-panel" id="exp-panel-2" role="region" aria-labelledby="exp-trigger-2" aria-hidden="true">
                                    <p class="accordion-text">
                                        I landed my first role as a UX Designer at Unisys. This was my exposure to the global stage. I had the opportunity to design for diverse, high-stakes users‚Äîfrom American public child care systems (USFN) and SAS Cargo logistics in Denmark to the DigiYatra initiative for Bangalore and Singapore Airports. I learned how to design for scale and reliability.
                                    </p>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <button class="accordion-trigger" type="button" aria-expanded="false" aria-controls="exp-panel-3" id="exp-trigger-3">
                                    <span class="accordion-title">2019-21 <span class="pipe-highlight">|</span> Social Impact: Blue collar workforce @<span class="glow-highlight">Betterplace</span></span>
                                    <span class="accordion-icon" aria-hidden="true">+</span>
                                </button>
                                <div class="accordion-panel" id="exp-panel-3" role="region" aria-labelledby="exp-trigger-3" aria-hidden="true">
                                    <p class="accordion-text">
                                        Joining Betterplace as a Lead Product Designer offered a humbling challenge: designing for India‚Äôs blue-collar workforce. I worked on automated products for background verification, attendance tracking, and job applications. The goal was simplicity and accessibility, ensuring technology bridged gaps rather than creating them.
                                    </p>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <button class="accordion-trigger" type="button" aria-expanded="false" aria-controls="exp-panel-4" id="exp-trigger-4">
                                    <span class="accordion-title">2021 - Present <span class="pipe-highlight">|</span> AI &amp; Automation @<span class="glow-highlight">SenseHQ</span></span>
                                    <span class="accordion-icon" aria-hidden="true">+</span>
                                </button>
                                <div class="accordion-panel" id="exp-panel-4" role="region" aria-labelledby="exp-trigger-4" aria-hidden="true">
                                    <p class="accordion-text">
                                        I joined Sense as a Lead Product Designer and grew into a Staff Product Designer. Over the last 4 years, I have led end-to-end design for complex SaaS tools‚ÄîAutomation Builders, Segment Builders, and Career Site Builders‚Äîthat accelerated recruitment marketing.
                                    </p>
                                    <p class="accordion-text">
                                        Most recently, I have been part of the transformation of these tools into AI Agents, evolving the Sense platform into a self-serving, intelligent colleague for recruiters, enhancing efficiency and productivity at scale.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Slide 4: Design Process -->
                <div class="content-slide design-process-slide">
                    <div class="right-section">
                        <h2 class="section-title">‚ÄîDesign Process &amp; Principles‚Äî</h2>
                        <div class="section-subtitle">How I Work.</div>

                        <div class="design-process-graph" aria-label="Design process diagram">
                            <svg class="dp-svg" viewBox="0 0 1400 360" width="1400" height="360" role="img" aria-label="Research to Launch process with iterative design loop">
                                <defs>
                                    <marker id="dpArrowHead" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
                                        <path d="M 0 0 L 10 5 L 0 10 z" class="dp-arrowhead"></path>
                                    </marker>
                                </defs>

                                <!-- Linear flow arrows -->
                                <path class="dp-path dp-arrow dp-draw" marker-end="url(#dpArrowHead)" d="M 165 180 C 205 180, 215 180, 255 180"></path>
                                <path class="dp-path dp-arrow dp-draw" marker-end="url(#dpArrowHead)" d="M 365 180 C 405 180, 415 180, 440 210"></path>
                                <path class="dp-path dp-arrow dp-draw" marker-end="url(#dpArrowHead)" d="M 790 180 C 830 180, 840 180, 850 180"></path>
                                <path class="dp-path dp-arrow dp-draw" marker-end="url(#dpArrowHead)" d="M 990 180 C 1030 180, 1040 180, 1050 180"></path>
                                <path class="dp-path dp-arrow dp-draw" marker-end="url(#dpArrowHead)" d="M 1190 180 C 1230 180, 1240 180, 1250 180"></path>

                                <!-- Iteration loop (Validate ‚Üî Design ‚Üî Prototype) -->
                                <path class="dp-path dp-arrow dp-draw" marker-end="url(#dpArrowHead)" d="M 560 250 C 615 240, 650 215, 680 195"></path>
                                <path class="dp-path dp-arrow dp-draw" marker-end="url(#dpArrowHead)" d="M 680 165 C 650 145, 615 120, 560 110"></path>
                                <path class="dp-path dp-arrow dp-draw" marker-end="url(#dpArrowHead)" d="M 500 140 C 470 165, 470 195, 500 220"></path>

                                <!-- Nodes -->
                                <g class="dp-node" tabindex="0" aria-label="Research" style="--dp-delay: 0s;">
                                    <circle class="dp-circle dp-draw" cx="95" cy="180" r="70"></circle>
                                    <circle class="dp-circle dp-circle-soft dp-draw" cx="95" cy="180" r="70"></circle>
                                    <text class="dp-text" x="95" y="180">Research</text>
                                </g>

                                <g class="dp-node" tabindex="0" aria-label="Define" style="--dp-delay: 0.15s;">
                                    <circle class="dp-circle dp-draw" cx="295" cy="180" r="70"></circle>
                                    <circle class="dp-circle dp-circle-soft dp-draw" cx="295" cy="180" r="70"></circle>
                                    <text class="dp-text" x="295" y="180">Define</text>
                                </g>

                                <g class="dp-node" tabindex="0" aria-label="Validate" style="--dp-delay: 0.30s;">
                                    <circle class="dp-circle dp-draw" cx="500" cy="95" r="70"></circle>
                                    <circle class="dp-circle dp-circle-soft dp-draw" cx="500" cy="95" r="70"></circle>
                                    <text class="dp-text" x="500" y="95">Validate</text>
                                </g>

                                <g class="dp-node" tabindex="0" aria-label="Design" style="--dp-delay: 0.45s;">
                                    <circle class="dp-circle dp-draw" cx="500" cy="265" r="70"></circle>
                                    <circle class="dp-circle dp-circle-soft dp-draw" cx="500" cy="265" r="70"></circle>
                                    <text class="dp-text" x="500" y="265">Design</text>
                                </g>

                                <g class="dp-node" tabindex="0" aria-label="Prototype" style="--dp-delay: 0.60s;">
                                    <circle class="dp-circle dp-draw" cx="720" cy="180" r="70"></circle>
                                    <circle class="dp-circle dp-circle-soft dp-draw" cx="720" cy="180" r="70"></circle>
                                    <text class="dp-text" x="720" y="180">Prototype</text>
                                </g>

                                <g class="dp-node" tabindex="0" aria-label="Build" style="--dp-delay: 0.75s;">
                                    <circle class="dp-circle dp-draw" cx="920" cy="180" r="70"></circle>
                                    <circle class="dp-circle dp-circle-soft dp-draw" cx="920" cy="180" r="70"></circle>
                                    <text class="dp-text" x="920" y="180">Build</text>
                                </g>

                                <g class="dp-node" tabindex="0" aria-label="QA test" style="--dp-delay: 0.90s;">
                                    <circle class="dp-circle dp-draw" cx="1120" cy="180" r="70"></circle>
                                    <circle class="dp-circle dp-circle-soft dp-draw" cx="1120" cy="180" r="70"></circle>
                                    <text class="dp-text" x="1120" y="180">QA test</text>
                                </g>

                                <g class="dp-node" tabindex="0" aria-label="Launch" style="--dp-delay: 1.05s;">
                                    <circle class="dp-circle dp-draw" cx="1320" cy="180" r="70"></circle>
                                    <circle class="dp-circle dp-circle-soft dp-draw" cx="1320" cy="180" r="70"></circle>
                                    <text class="dp-text" x="1320" y="180">Launch</text>
                                </g>
                            </svg>
                        </div>

                        <!-- Tools Used (interactive) -->
                        <section class="tools-used-section" aria-label="Tools used">
                            <h3 class="tools-used-title">Tools Used</h3>
                            <p class="tools-used-subtitle">I thrive to bring in efficiency in process whereever is possible</p>

                            <div class="tools-used-card" aria-label="Tools used and outcomes">
                                <div class="tools-used-card-header">
                                    <div class="tools-used-card-heading">Tools Used (Hover on any tool)</div>
                                    <div class="tools-used-card-heading">Outcomes</div>
                                </div>

                                <div class="tools-used-card-body">
                                    <div class="tools-used-logos" aria-label="Tool logos">
                                        <button class="tool-logo-btn" type="button" data-tool="usertesting" style="--x: 14%; --y: 18%; --rot: -2deg;" aria-label="UserTesting">
                                            <img src="Logos/Usertesting.png" alt="UserTesting" class="tool-logo-img">
                                        </button>
                                        <button class="tool-logo-btn" type="button" data-tool="jira" style="--x: 12%; --y: 52%; --rot: 1deg;" aria-label="Jira">
                                            <img src="Logos/Jira.png" alt="Jira" class="tool-logo-img">
                                        </button>
                                        <button class="tool-logo-btn" type="button" data-tool="maze" style="--x: 24%; --y: 40%; --rot: -1deg;" aria-label="Maze">
                                            <img src="Logos/Maze.png" alt="Maze" class="tool-logo-img">
                                        </button>
                                        <button class="tool-logo-btn" type="button" data-tool="chameleon" style="--x: 22%; --y: 73%; --rot: 0deg;" aria-label="Chameleon">
                                            <img src="Logos/Chameleon.png" alt="Chameleon" class="tool-logo-img">
                                        </button>
                                        <button class="tool-logo-btn" type="button" data-tool="protopie" style="--x: 14%; --y: 88%; --rot: -1deg;" aria-label="ProtoPie">
                                            <img src="Logos/Protopie.png" alt="ProtoPie" class="tool-logo-img">
                                        </button>
                                        <button class="tool-logo-btn" type="button" data-tool="lovable" style="--x: 44%; --y: 88%; --rot: 1deg;" aria-label="Lovable">
                                            <img src="Logos/Lovable.png" alt="Lovable" class="tool-logo-img">
                                        </button>

                                        <button class="tool-logo-btn" type="button" data-tool="github" style="--x: 64%; --y: 18%; --rot: 0deg;" aria-label="GitHub">
                                            <img src="Logos/Github.png" alt="GitHub" class="tool-logo-img">
                                        </button>
                                        <button class="tool-logo-btn" type="button" data-tool="amplitude" style="--x: 50%; --y: 30%; --rot: 1deg;" aria-label="Amplitude">
                                            <img src="Logos/Amplitude.png" alt="Amplitude" class="tool-logo-img">
                                        </button>
                                        <button class="tool-logo-btn" type="button" data-tool="clarity" style="--x: 54%; --y: 58%; --rot: -1deg;" aria-label="Microsoft Clarity">
                                            <img src="Logos/Clarity.png" alt="Microsoft Clarity" class="tool-logo-img">
                                        </button>
                                        <button class="tool-logo-btn" type="button" data-tool="cursor" style="--x: 72%; --y: 52%; --rot: 1deg;" aria-label="Cursor">
                                            <img src="Logos/Cursor.png" alt="Cursor" class="tool-logo-img">
                                        </button>
                                        <button class="tool-logo-btn" type="button" data-tool="figjam" style="--x: 56%; --y: 74%; --rot: 0deg;" aria-label="FigJam">
                                            <img src="Logos/figjam.png" alt="FigJam" class="tool-logo-img">
                                        </button>
                                        <button class="tool-logo-btn" type="button" data-tool="asana" style="--x: 80%; --y: 78%; --rot: 1deg;" aria-label="Asana">
                                            <img src="Logos/Asana.png" alt="Asana" class="tool-logo-img">
                                        </button>
                                        <button class="tool-logo-btn" type="button" data-tool="figma" style="--x: 60%; --y: 90%; --rot: -1deg;" aria-label="Figma">
                                            <img src="Logos/Figma.png" alt="Figma" class="tool-logo-img">
                                        </button>
                                    </div>

                                    <div class="tools-used-divider" aria-hidden="true"></div>

                                    <div class="tools-used-wordcloud" aria-label="Outcomes word cloud">
                                        <div class="wordcloud-cloud" aria-hidden="false">
                                            <span class="tools-word w4" data-word="design-system" style="--x: 56%; --y: 46%; --s: 1.80; --rot: 0deg; --c: rgba(255,255,255,0.86);">Design System</span>
                                            <span class="tools-word w4" data-word="track-user-behaviour" style="--x: 36%; --y: 28%; --s: 1.55; --rot: -2deg; --c: rgba(132, 206, 255, 0.90);">Track User Behaviour</span>
                                            <span class="tools-word w3" data-word="clickable-prototypes" style="--x: 74%; --y: 26%; --s: 1.40; --rot: 1deg; --c: rgba(255, 215, 0, 0.88);">Clickable prototypes</span>

                                            <span class="tools-word w2" data-word="user-onboarding" style="--x: 22%; --y: 40%; --s: 1.05; --rot: 1deg; --c: rgba(154, 255, 205, 0.82);">User Onboarding</span>
                                            <span class="tools-word w2" data-word="user-interviews" style="--x: 28%; --y: 56%; --s: 1.10; --rot: -1deg; --c: rgba(255,255,255,0.76);">User interviews</span>
                                            <span class="tools-word w2" data-word="csm-feedback" style="--x: 70%; --y: 56%; --s: 1.08; --rot: 1deg; --c: rgba(255, 255, 255, 0.72);">CSM Feedback</span>

                                            <span class="tools-word w2" data-word="product-demo-tours" style="--x: 82%; --y: 40%; --s: 1.05; --rot: -1deg; --c: rgba(255, 179, 132, 0.82);">Product Demo Tours</span>
                                            <span class="tools-word w2" data-word="user-session-recordings" style="--x: 64%; --y: 40%; --s: 1.00; --rot: 2deg; --c: rgba(196, 170, 255, 0.80);">User Session Recordings</span>

                                            <span class="tools-word w2" data-word="component-coding" style="--x: 62%; --y: 66%; --s: 1.08; --rot: -1deg; --c: rgba(255,255,255,0.74);">Component Coding</span>
                                            <span class="tools-word w2" data-word="dev-usable-ui-code" style="--x: 40%; --y: 66%; --s: 1.02; --rot: 1deg; --c: rgba(255,255,255,0.70);">Dev usable UI Code</span>

                                            <span class="tools-word w2" data-word="data-analysis" style="--x: 24%; --y: 74%; --s: 1.02; --rot: -2deg; --c: rgba(132, 206, 255, 0.80);">Data Analysis</span>
                                            <span class="tools-word w2" data-word="micro-interactions" style="--x: 78%; --y: 74%; --s: 1.02; --rot: 2deg; --c: rgba(255, 179, 132, 0.80);">Micro Interactions</span>

                                            <span class="tools-word w2" data-word="lo-fi-mockups" style="--x: 44%; --y: 84%; --s: 1.00; --rot: 0deg; --c: rgba(154, 255, 205, 0.76);">Lo-fi Mockups</span>
                                            <span class="tools-word w2" data-word="quick-prototypes" style="--x: 62%; --y: 84%; --s: 1.00; --rot: -1deg; --c: rgba(255, 215, 0, 0.78);">Quick Prototypes</span>

                                            <span class="tools-word w1" data-word="design-qa" style="--x: 56%; --y: 18%; --s: 0.95; --rot: -2deg; --c: rgba(255,255,255,0.65);">Design QA</span>
                                            <span class="tools-word w1" data-word="task-management" style="--x: 74%; --y: 90%; --s: 0.95; --rot: 1deg; --c: rgba(255,255,255,0.65);">Task Management</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <h3 class="principles-heading">Design Principles</h3>
                        <div class="principles-card-stack-container">
                            <div class="principles-card-stack">
                                <div class="principle-item" data-card-index="0">
                                    <div class="principle-title">Thoughtful üòâ</div>
                                    <p class="principle-text">
                                        Innovate with intention. Build simple, delightful experiences through deep user understanding.
                                    </p>
                                </div>

                                <div class="principle-item" data-card-index="1">
                                    <div class="principle-title">Collaborative ü§ú ü§õ</div>
                                    <p class="principle-text">
                                        Design thrives through teamwork and critique. Collective intelligence builds better solutions.
                                    </p>
                                </div>

                                <div class="principle-item" data-card-index="2">
                                    <div class="principle-title">Scalable üöÄ</div>
                                    <p class="principle-text">
                                        Design systems, not pages. Build frameworks that adapt from simple tasks to complex workflows.
                                    </p>
                                </div>

                                <div class="principle-item" data-card-index="3">
                                    <div class="principle-title">Empathetic ü•≥</div>
                                    <p class="principle-text">
                                        Focus on the "Why." Understand users' goals, motivations, and emotional connections.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Slide 5: Projects -->
                <div class="content-slide projects-slide">
                    <div class="right-section">
                        <div class="achievements-header">
                            <h2 class="section-title">Projects</h2>
                            <div class="section-subtitle">Selected work (details coming soon).</div>
                        </div>

                        <div class="projects-grid" aria-label="Projects grid">
                            <div class="project-card">Automation workflow builder</div>
                            <div class="project-card">Interview Scheduler</div>
                            <div class="project-card">AI Content generator</div>
                            <div class="project-card">Career site builder</div>
                            <div class="project-card">Attendance app</div>
                            <div class="project-card">Betterjobs</div>
                            <div class="project-card">Attendance web app</div>
                            <div class="project-card">Employee BG check</div>
                            <div class="project-card">Indian airport&apos;s Airsewa</div>
                            <div class="project-card">Digipet mobile app</div>
                            <div class="project-card">USFN</div>
                            <div class="project-card">SaS Cargo mobile app</div>
                        </div>
                    </div>
                </div>

                <!-- Slide 6: Contact -->
                <div class="content-slide contact-slide">
                    <div class="contact-section-wrapper">
                        <div class="contact-main-content">
                            <div class="contact-left-hero">
                                <img src="Hero images/ContactSection.png" alt="Contact hero" class="contact-hero-image">
                                <div class="contact-mini-card" aria-label="Contact details">
                                    <div class="contact-mini-text">
                                        <span class="contact-mini-icon" aria-hidden="true">
                                            <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true">
                                                <path fill="currentColor" d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2Zm0 4-8 5L4 8V6l8 5 8-5v2Z"/>
                                            </svg>
                                        </span>
                                        <span class="contact-mini-value">rupesh.chaitanya@gmail.com</span>
                                    </div>
                                    <div class="contact-mini-text">
                                        <span class="contact-mini-icon" aria-hidden="true">
                                            <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true">
                                                <path fill="currentColor" d="M6.62 10.79a15.05 15.05 0 0 0 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1C10.07 21 3 13.93 3 5c0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2Z"/>
                                            </svg>
                                        </span>
                                        <span class="contact-mini-value">+91 9945186854</span>
                                    </div>

                                    <div class="contact-mini-text">
                                        <span class="contact-mini-icon" aria-hidden="true">
                                            <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true">
                                                <path fill="currentColor" d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7Zm0 9.5A2.5 2.5 0 1 1 12 6a2.5 2.5 0 0 1 0 5.5Z"/>
                                            </svg>
                                        </span>
                                        <span class="contact-mini-value">Bangalore, Karnataka, India</span>
                                    </div>

                                    <a class="linkedin-btn" href="https://www.linkedin.com/in/rupesh046/" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
                                        <span class="linkedin-icon" aria-hidden="true">
                                            <svg viewBox="0 0 24 24" width="18" height="18" focusable="false" aria-hidden="true">
                                                <path fill="currentColor" d="M4.98 3.5C4.98 4.88 3.87 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1 4.98 2.12 4.98 3.5ZM.5 23.5h4V7.98h-4V23.5Zm7.5 0h3.98v-8.35c0-2.24.43-4.41 3.2-4.41 2.73 0 2.76 2.56 2.76 4.55v8.21H22.9V14.3c0-4.51-.97-7.97-6.24-7.97-2.53 0-4.22 1.39-4.91 2.71h-.05V7.98H8V23.5Z"/>
                                            </svg>
                                        </span>
                                    </a>
                                </div>
                            </div>

                            <div class="contact-right-values">
                                <div class="contact-kicker">‚ÄîValues‚Äî</div>
                                <h2 class="contact-title">The code I live by.</h2>

                                <div class="values-grid">
                                    <div class="value-card">
                                        <div class="value-card-bg-pattern"></div>
                                        <div class="value-title"><span class="value-emoji" aria-hidden="true">üí™</span>Be Challenging</div>
                                        <div class="value-desc">I view every obstacle as a challenge to be conquered, never a reason to lose confidence.</div>
                                    </div>
                                    <div class="value-card">
                                        <div class="value-card-bg-pattern"></div>
                                        <div class="value-title"><span class="value-emoji" aria-hidden="true">üìö</span>Never Stop Learning</div>
                                        <div class="value-desc">Growth is a daily habit. I dedicate one hour every day to learning something new.</div>
                                    </div>
                                    <div class="value-card">
                                        <div class="value-card-bg-pattern"></div>
                                        <div class="value-title"><span class="value-emoji" aria-hidden="true">üé®</span>Creative Excellence</div>
                                        <div class="value-desc">I strive to stand out by finding creative solutions to complex problems. My international hackathon wins are proof of this mindset.</div>
                                    </div>
                                    <div class="value-card">
                                        <div class="value-card-bg-pattern"></div>
                                        <div class="value-title"><span class="value-emoji" aria-hidden="true">üîç</span>Be Transparent</div>
                                        <div class="value-desc">Whether personally or professionally, transparency simplifies life. Clarity creates trust.</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scroll Down Indicator -->
    <div class="scroll-indicator" id="scrollIndicator">
        <div class="scroll-arrow">‚Üì</div>
        <p class="scroll-text">Scroll</p>
    </div>

    <script>
        // Custom Elastic Cursor with Halo Effect
        const cursor = document.getElementById('customCursor');
        const halo = document.getElementById('cursorHalo');
        let mouseX = 0;
        let mouseY = 0;
        let cursorX = 0;
        let cursorY = 0;
        let haloX = 0;
        let haloY = 0;
        let prevX = 0;
        let prevY = 0;
        let speed = 0;
        
        // Track mouse position
        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
            
            // Calculate speed
            const deltaX = mouseX - prevX;
            const deltaY = mouseY - prevY;
            speed = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
            
            prevX = mouseX;
            prevY = mouseY;
        });
        
        // Smooth cursor and halo animation
        function animateCursor() {
            // Smooth follow for cursor
            cursorX += (mouseX - cursorX) * 0.2;
            cursorY += (mouseY - cursorY) * 0.2;
            
            // Even smoother follow for halo (creates lag effect)
            haloX += (mouseX - haloX) * 0.15;
            haloY += (mouseY - haloY) * 0.15;
            
            // Apply elastic effect based on speed
            const baseSize = 20;
            const maxStretch = 40;
            const stretchAmount = Math.min(speed * 0.5, maxStretch - baseSize);
            
            // Calculate direction of movement
            const angle = Math.atan2(mouseY - cursorY, mouseX - cursorX);
            
            // Apply stretch in direction of movement
            const width = baseSize + stretchAmount;
            const height = baseSize - (stretchAmount * 0.3);
            
            cursor.style.left = cursorX + 'px';
            cursor.style.top = cursorY + 'px';
            cursor.style.width = width + 'px';
            cursor.style.height = height + 'px';
            cursor.style.transform = `translate(-50%, -50%) rotate(${angle}rad)`;
            
            // Update halo position
            halo.style.left = haloX + 'px';
            halo.style.top = haloY + 'px';
            
            // Decay speed
            speed *= 0.9;
            
            requestAnimationFrame(animateCursor);
        }
        
        animateCursor();
        
        // Hide default cursor on body
        document.body.style.cursor = 'none';

        // Slide Management
        const slides = document.querySelectorAll('.content-slide');
        const heroImage1 = document.getElementById('heroImage1');
        const heroImage2 = document.getElementById('heroImage2');
        const mainContainer = document.getElementById('mainContainer');
        
        let currentContentSlide = 0;
        let isAnimating = false;

        // Initialize first slide
        slides[0].classList.add('active');
        slides[0].classList.remove('next', 'prev');
        for (let i = 1; i < slides.length; i++) {
            slides[i].classList.add('next');
            slides[i].classList.remove('active', 'prev');
        }

        function updateSlides(newSlide) {
            if (isAnimating || newSlide === currentContentSlide || newSlide < 0 || newSlide >= slides.length) {
                return;
            }

            isAnimating = true;
            const direction = newSlide > currentContentSlide ? 'next' : 'prev';

            // Update current slide
            slides[currentContentSlide].classList.remove('active');
            slides[currentContentSlide].classList.add(direction === 'next' ? 'prev' : 'next');

            // Update new slide
            slides[newSlide].classList.remove('prev', 'next');
            slides[newSlide].classList.add('active');

            // Layout mode: some slides become full-width and scroll naturally (TV frame moves out)
            const nextSlideEl = slides[newSlide];
            const isFullWidthSlide =
                !!nextSlideEl &&
                (nextSlideEl.classList.contains('design-process-slide') ||
                 nextSlideEl.classList.contains('projects-slide') ||
                 nextSlideEl.classList.contains('contact-slide'));

            document.body.classList.toggle('design-process-mode', isFullWidthSlide);

            // Scroll full-width slide to top when it becomes active
            if (isFullWidthSlide) {
                setTimeout(() => {
                    // Contact slide scrolls on the slide itself, others use .right-section
                    const scrollEl = nextSlideEl.classList.contains('contact-slide')
                        ? nextSlideEl
                        : nextSlideEl.querySelector('.right-section');
                    if (scrollEl) scrollEl.scrollTop = 0;
                }, 100);
            }

            // Swap hero images
            if (newSlide === 1) {
                heroImage1.classList.remove('active');
                heroImage2.classList.add('active');
                if (heroImage1 && heroImage1.tagName === 'VIDEO') {
                    try { heroImage1.pause(); } catch (e) {}
                }
                if (heroImage2 && heroImage2.tagName === 'VIDEO') {
                    heroImage2.play().catch(() => {});
                }
            } else {
                heroImage1.classList.add('active');
                heroImage2.classList.remove('active');
                if (heroImage1 && heroImage1.tagName === 'VIDEO') {
                    // Autoplay policies can block play() unless muted (we set muted), so ignore failures.
                    heroImage1.play().catch(() => {});
                }
                if (heroImage2 && heroImage2.tagName === 'VIDEO') {
                    try { heroImage2.pause(); } catch (e) {}
                }
            }

            currentContentSlide = newSlide;

            // Update active menu item
            updateActiveMenuItem(newSlide);

            // Update scroll indicator
            const scrollIndicator = document.getElementById('scrollIndicator');
            if (scrollIndicator) {
                // Hide indicator on last slide (Design Process)
                if (newSlide >= slides.length - 1) {
                    scrollIndicator.classList.add('hidden');
                } else {
                    scrollIndicator.classList.remove('hidden');
                }
            }

            setTimeout(() => {
                isAnimating = false;
            }, 800);
        }

        // Function to update active menu item based on current slide
        function updateActiveMenuItem(slideIndex) {
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach((nav, index) => {
                nav.classList.remove('active');
            });

            const mapSlideToNavIndex = (s) => {
                if (s === 0) return 0;
                if (s === 1) return 1;
                if (s === 2) return 2;
                if (s === 3) return 3; // Design Process slide
                if (s === 4) return 4; // Projects slide
                if (s === 5) return 5; // Contact slide
                return 0;
            };

            const activeNavIndex = mapSlideToNavIndex(slideIndex);
            if (navItems[activeNavIndex]) navItems[activeNavIndex].classList.add('active');
        }
        
        // Initialize scroll indicator
        const scrollIndicator = document.getElementById('scrollIndicator');
        if (scrollIndicator && currentContentSlide >= slides.length - 1) {
            scrollIndicator.classList.add('hidden');
        }

        // Wheel scroll handling
        let scrollTimeout;
        // For slides with internal scroll: when user reaches top/bottom *during a swipe gesture*,
        // stop at the edge (do not advance). If the user starts a *new* swipe while already at
        // the edge, then advance to the next/prev section immediately.
        let wheelGestureEndTimer = null;
        let gestureSlideIndex = -1;
        let gestureDir = 0; // 1 (down) | -1 (up)
        let gestureStartedAtBoundary = false;
        const WHEEL_GESTURE_END_MS = 160;

        mainContainer.addEventListener('wheel', (e) => {
            // Allow native scrolling within full-width sections (Design Process + Projects + Contact).
            const activeSlide = slides[currentContentSlide];
            const isScrollableSlide =
                activeSlide &&
                (activeSlide.classList.contains('design-process-slide') ||
                    activeSlide.classList.contains('projects-slide') ||
                    activeSlide.classList.contains('contact-slide'));

            if (isScrollableSlide) {
                // Contact slide scrolls on the slide itself, others use .right-section
                const scrollEl = activeSlide.classList.contains('contact-slide')
                    ? activeSlide
                    : activeSlide.querySelector('.right-section');

                if (scrollEl && scrollEl.scrollHeight > scrollEl.clientHeight) {
                    const atTop = scrollEl.scrollTop <= 0;
                    const atBottom = scrollEl.scrollTop + scrollEl.clientHeight >= scrollEl.scrollHeight - 1;
                    const dir = e.deltaY > 0 ? 1 : -1;
                    const isAtBoundary = (dir < 0 && atTop) || (dir > 0 && atBottom);

                    // Determine whether this wheel event belongs to a new gesture (swipe).
                    const isNewGesture =
                        wheelGestureEndTimer === null ||
                        gestureSlideIndex !== currentContentSlide ||
                        gestureDir !== dir;

                    if (isNewGesture) {
                        gestureSlideIndex = currentContentSlide;
                        gestureDir = dir;
                        gestureStartedAtBoundary = isAtBoundary;
                    }

                    clearTimeout(wheelGestureEndTimer);
                    wheelGestureEndTimer = setTimeout(() => {
                        wheelGestureEndTimer = null;
                        gestureSlideIndex = -1;
                        gestureDir = 0;
                        gestureStartedAtBoundary = false;
                    }, WHEEL_GESTURE_END_MS);

                    // If we can scroll within the panel, let the browser handle it.
                    if (!isAtBoundary) {
                        return;
                    }

                    // We're at the boundary.
                    // - If we reached the boundary mid-gesture, stop here (do NOT advance).
                    // - If the gesture started at the boundary, allow section navigation.
                    e.preventDefault();
                    if (!gestureStartedAtBoundary) {
                        clearTimeout(scrollTimeout);
                        return;
                    }
                } else {
                    // No internal scroll area => behave like non-scrollable slide
                    wheelGestureEndTimer = null;
                    gestureSlideIndex = -1;
                    gestureDir = 0;
                    gestureStartedAtBoundary = false;
                }
            } else {
                wheelGestureEndTimer = null;
                gestureSlideIndex = -1;
                gestureDir = 0;
                gestureStartedAtBoundary = false;
            }

            e.preventDefault();
            
            clearTimeout(scrollTimeout);
            scrollTimeout = setTimeout(() => {
                if (e.deltaY > 0) {
                    // Scroll down
                    updateSlides(currentContentSlide + 1);
                } else {
                    // Scroll up
                    updateSlides(currentContentSlide - 1);
                }
            }, 50);
        }, { passive: false });

        // Accordion functionality (Achievements + Experience)
        function initAccordion(accordionEl) {
            const triggers = accordionEl.querySelectorAll('.accordion-trigger');

            function closePanel(trigger) {
                const panelId = trigger.getAttribute('aria-controls');
                const panel = panelId ? document.getElementById(panelId) : null;
                const item = trigger.closest('.accordion-item');

                trigger.setAttribute('aria-expanded', 'false');
                if (item) item.classList.remove('is-open');
                if (panel) {
                    panel.setAttribute('aria-hidden', 'true');
                    panel.style.maxHeight = '0px';
                }
            }

            function openPanel(trigger) {
                const panelId = trigger.getAttribute('aria-controls');
                const panel = panelId ? document.getElementById(panelId) : null;
                const item = trigger.closest('.accordion-item');

                trigger.setAttribute('aria-expanded', 'true');
                if (item) item.classList.add('is-open');
                if (panel) {
                    panel.setAttribute('aria-hidden', 'false');
                    panel.style.maxHeight = panel.scrollHeight + 'px';
                }
            }

            // Initialize panels (closed)
            triggers.forEach((trigger) => closePanel(trigger));

            triggers.forEach((trigger) => {
                trigger.addEventListener('click', () => {
                    const isExpanded = trigger.getAttribute('aria-expanded') === 'true';
                    triggers.forEach((t) => closePanel(t));
                    if (!isExpanded) openPanel(trigger);
                });
            });

            // Keep open panel heights in sync (e.g., when resizing)
            window.addEventListener('resize', () => {
                triggers.forEach((trigger) => {
                    if (trigger.getAttribute('aria-expanded') === 'true') {
                        const panelId = trigger.getAttribute('aria-controls');
                        const panel = panelId ? document.getElementById(panelId) : null;
                        if (panel) panel.style.maxHeight = panel.scrollHeight + 'px';
                    }
                });
            });
        }

        const achievementsAccordion = document.getElementById('achievementsAccordion');
        if (achievementsAccordion) initAccordion(achievementsAccordion);

        const experienceAccordion = document.getElementById('experienceAccordion');
        if (experienceAccordion) initAccordion(experienceAccordion);

        // Experience Carousel functionality
        const expTrack = document.getElementById('expCarouselTrack');
        const expPrevBtn = document.getElementById('expPrevBtn');
        const expNextBtn = document.getElementById('expNextBtn');
        const expCurrentSlideSpan = document.getElementById('expCurrentSlide');
        const expTotalSlidesSpan = document.getElementById('expTotalSlides');
        
        let currentExpSlide = 0;
        const expTotalSlides = document.querySelectorAll('#expCarouselTrack .achievement-card').length;
        if (expTotalSlidesSpan) expTotalSlidesSpan.textContent = expTotalSlides;
        
        function updateExpCarousel() {
            if (expTrack) {
                expTrack.style.transform = `translateX(-${currentExpSlide * 100}%)`;
                if (expCurrentSlideSpan) expCurrentSlideSpan.textContent = currentExpSlide + 1;
            }
        }
        
        if (expPrevBtn && expNextBtn) {
            expPrevBtn.addEventListener('click', () => {
                if (currentExpSlide > 0) {
                    currentExpSlide--;
                    updateExpCarousel();
                }
            });
            
            expNextBtn.addEventListener('click', () => {
                if (currentExpSlide < expTotalSlides - 1) {
                    currentExpSlide++;
                    updateExpCarousel();
                }
            });
        }

        // Navigation menu clicks
        const navItems = document.querySelectorAll('.nav-item');
        navItems.forEach((item, index) => {
            item.addEventListener('click', (e) => {
                e.preventDefault();
            // Map menu items to slides
            // Menu: About me(0), Achievements(1), Experience(2), Design Process(3), Projects(4), Contact(5)
            // Slides: Intro(0), Achievements(1), Experience(2), Design Process(3), Projects(4), Contact(5)
                let targetSlide = 0;
                if (index === 0) targetSlide = 0;      // About me ‚Üí Intro
                else if (index === 1) targetSlide = 1; // Achievements ‚Üí Achievements slide
                else if (index === 2) targetSlide = 2; // Experience ‚Üí Experience slide
            else if (index === 3) targetSlide = 3; // Design Process ‚Üí Design Process slide
            else if (index === 4) targetSlide = 4; // Projects ‚Üí Projects slide
            else if (index === 5) targetSlide = 5; // Contact ‚Üí Contact slide
                
                updateSlides(targetSlide);
                // updateActiveMenuItem is called inside updateSlides, so no need to call it here
            });
        });
        
        // Initialize active menu item on page load
        updateActiveMenuItem(0);

        // Tools Used: hover tool logos to highlight mapped words in the word cloud
        function initToolsUsedWordMapping() {
            const section = document.querySelector('.tools-used-section');
            if (!section) return;

            const toolButtons = Array.from(section.querySelectorAll('.tool-logo-btn[data-tool]'));
            const wordEls = Array.from(section.querySelectorAll('.tools-word[data-word]'));
            const wordByKey = new Map(wordEls.map((el) => [el.dataset.word, el]));

            const mapping = {
                usertesting: ['user-interviews', 'csm-feedback', 'track-user-behaviour'],
                maze: ['user-interviews', 'csm-feedback', 'track-user-behaviour'],
                amplitude: ['track-user-behaviour', 'data-analysis'],
                github: ['design-system', 'component-coding', 'dev-usable-ui-code'],
                jira: ['task-management', 'design-qa'],
                clarity: ['track-user-behaviour', 'user-session-recordings'],
                cursor: ['design-system', 'component-coding', 'dev-usable-ui-code'],
                chameleon: ['user-onboarding', 'product-demo-tours'],
                figjam: ['lo-fi-mockups'],
                asana: ['task-management', 'design-qa'],
                lovable: ['quick-prototypes', 'csm-feedback'],
                protopie: ['micro-interactions', 'design-system'],
                figma: ['design-system', 'clickable-prototypes'],
            };

            // Reverse mapping: word -> tools (so hovering an outcome highlights its mapped tools)
            const toolsByWord = new Map();
            Object.entries(mapping).forEach(([toolKey, wordKeys]) => {
                (wordKeys || []).forEach((w) => {
                    if (!toolsByWord.has(w)) toolsByWord.set(w, new Set());
                    toolsByWord.get(w).add(toolKey);
                });
            });

            // Make words keyboard-focusable (without cluttering HTML)
            wordEls.forEach((el) => {
                if (!el.hasAttribute('tabindex')) el.setAttribute('tabindex', '0');
                if (!el.hasAttribute('role')) el.setAttribute('role', 'button');
                if (!el.hasAttribute('aria-label')) {
                    const label = (el.textContent || '').trim();
                    el.setAttribute('aria-label', label ? `Outcome: ${label}` : 'Outcome');
                }
            });

            const clear = () => {
                toolButtons.forEach((btn) => btn.classList.remove('is-active'));
                wordEls.forEach((el) => {
                    el.classList.remove('is-highlighted');
                    el.classList.remove('is-active-word');
                });
            };

            const activate = (toolKey) => {
                clear();
                const btn = section.querySelector(`.tool-logo-btn[data-tool="${toolKey}"]`);
                if (btn) btn.classList.add('is-active');

                const keys = mapping[toolKey] || [];
                keys.forEach((k) => {
                    const el = wordByKey.get(k);
                    if (el) el.classList.add('is-highlighted');
                });
            };

            const activateWord = (wordKey) => {
                clear();
                const wordEl = wordByKey.get(wordKey);
                if (wordEl) {
                    wordEl.classList.add('is-highlighted');
                    wordEl.classList.add('is-active-word');
                }

                const tools = toolsByWord.get(wordKey);
                if (!tools) return;
                tools.forEach((toolKey) => {
                    const btn = section.querySelector(`.tool-logo-btn[data-tool="${toolKey}"]`);
                    if (btn) btn.classList.add('is-active');
                });
            };

            toolButtons.forEach((btn) => {
                const toolKey = btn.dataset.tool;
                if (!toolKey) return;

                btn.addEventListener('mouseenter', () => activate(toolKey));
                btn.addEventListener('mouseleave', () => clear());
                btn.addEventListener('focus', () => activate(toolKey));
                btn.addEventListener('blur', () => clear());

                // Mobile: tap to preview highlights (tap elsewhere clears via section handler below)
                btn.addEventListener('touchstart', () => activate(toolKey), { passive: true });
            });

            wordEls.forEach((el) => {
                const wordKey = el.dataset.word;
                if (!wordKey) return;

                el.addEventListener('mouseenter', () => activateWord(wordKey));
                el.addEventListener('mouseleave', () => clear());
                el.addEventListener('focus', () => activateWord(wordKey));
                el.addEventListener('blur', () => clear());
                el.addEventListener('touchstart', () => activateWord(wordKey), { passive: true });

                // Keyboard: activate on Enter/Space
                el.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        activateWord(wordKey);
                    }
                });
            });

            section.addEventListener('mouseleave', () => clear());
            section.addEventListener('touchstart', (e) => {
                const target = e.target;
                if (!(target instanceof Element)) return;
                if (!target.closest('.tool-logo-btn') && !target.closest('.tools-word')) clear();
            }, { passive: true });
        }

        // Tools Used: layout word cloud with collision avoidance (no overlaps)
        function initToolsUsedToolCloudLayout() {
            const section = document.querySelector('.tools-used-section');
            if (!section) return;

            const logos = section.querySelector('.tools-used-logos');
            if (!logos) return;

            const debounce = (fn, waitMs) => {
                let t;
                return (...args) => {
                    window.clearTimeout(t);
                    t = window.setTimeout(() => fn(...args), waitMs);
                };
            };

            const clamp = (n, min, max) => Math.max(min, Math.min(max, n));
            const rectsOverlap = (a, b, gap) => !(
                a.right + gap <= b.left ||
                a.left >= b.right + gap ||
                a.bottom + gap <= b.top ||
                a.top >= b.bottom + gap
            );

            function layoutOnce() {
                const btns = Array.from(logos.querySelectorAll('.tool-logo-btn'));
                if (!btns.length) return true;

                const cw = logos.clientWidth;
                const ch = logos.clientHeight;
                if (!cw || !ch) return true;

                // More breathing room between logos (also reduces overlap when hover scales up)
                const padding = 16;
                const gap = 22;

                // Measure buttons (center them so transforms apply consistently)
                btns.forEach((btn) => {
                    btn.style.visibility = 'hidden';
                    btn.style.setProperty('--x', (cw / 2) + 'px');
                    btn.style.setProperty('--y', (ch / 2) + 'px');
                });

                // Force layout
                // eslint-disable-next-line no-unused-expressions
                logos.offsetHeight;

                const items = btns.map((btn, idx) => {
                    const r = btn.getBoundingClientRect();
                    return {
                        el: btn,
                        idx,
                        w: r.width,
                        h: r.height,
                        area: r.width * r.height,
                    };
                }).sort((a, b) => b.area - a.area);

                btns.forEach((btn) => { btn.style.visibility = ''; });

                const placed = [];
                const cx = cw / 2;
                const cy = ch / 2;
                const maxAttempts = 1600;
                const angleStep = 0.6;
                const radiusStep = 10;

                for (const item of items) {
                    const halfW = item.w / 2;
                    const halfH = item.h / 2;

                    const minX = padding + halfW;
                    const maxX = cw - padding - halfW;
                    const minY = padding + halfH;
                    const maxY = ch - padding - halfH;
                    if (minX > maxX || minY > maxY) return false;

                    let found = false;
                    const seed = (item.idx + 1) * 1.61;

                    for (let attempt = 0; attempt < maxAttempts; attempt++) {
                        const angle = attempt * angleStep + seed;
                        const radius = radiusStep * Math.sqrt(attempt);

                        let x = cx + radius * Math.cos(angle);
                        let y = cy + radius * Math.sin(angle);

                        x = clamp(x, minX, maxX);
                        y = clamp(y, minY, maxY);

                        const rect = {
                            left: x - halfW,
                            top: y - halfH,
                            right: x + halfW,
                            bottom: y + halfH,
                        };

                        let overlaps = false;
                        for (const p of placed) {
                            if (rectsOverlap(rect, p, gap)) {
                                overlaps = true;
                                break;
                            }
                        }
                        if (overlaps) continue;

                        item.el.style.setProperty('--x', x + 'px');
                        item.el.style.setProperty('--y', y + 'px');
                        placed.push(rect);
                        found = true;
                        break;
                    }

                    if (!found) return false;
                }

                return true;
            }

            function layoutWithScaleFallback() {
                // Try a few scales (helps on smaller widths so we can still guarantee no overlap)
                const scales = [1, 0.96, 0.92, 0.88, 0.84, 0.80, 0.76];
                for (const s of scales) {
                    logos.style.setProperty('--tool-scale', String(s));
                    // Force layout before measuring/placing
                    // eslint-disable-next-line no-unused-expressions
                    logos.offsetHeight;
                    if (layoutOnce()) return;
                }
            }

            const run = () => {
                if (!logos.clientWidth || !logos.clientHeight) return;
                layoutWithScaleFallback();
            };

            const runDebounced = debounce(run, 150);

            const start = () => {
                run();
                window.addEventListener('resize', runDebounced, { passive: true });
                if (window.ResizeObserver) {
                    const ro = new ResizeObserver(() => runDebounced());
                    ro.observe(logos);
                }
            };

            // Ensure images are decoded so measurements are accurate
            const imgs = Array.from(logos.querySelectorAll('img'));
            const decodePromises = imgs.map((img) => {
                if (img && typeof img.decode === 'function') return img.decode().catch(() => {});
                return Promise.resolve();
            });

            Promise.all(decodePromises).then(() => window.requestAnimationFrame(start));
        }

        function initToolsUsedWordCloudLayout() {
            const section = document.querySelector('.tools-used-section');
            if (!section) return;

            const cloud = section.querySelector('.wordcloud-cloud');
            if (!cloud) return;

            const clamp = (n, min, max) => Math.max(min, Math.min(max, n));
            const rectsOverlap = (a, b, gap) => !(
                a.right + gap <= b.left ||
                a.left >= b.right + gap ||
                a.bottom + gap <= b.top ||
                a.top >= b.bottom + gap
            );

            const debounce = (fn, waitMs) => {
                let t;
                return (...args) => {
                    window.clearTimeout(t);
                    t = window.setTimeout(() => fn(...args), waitMs);
                };
            };

            function layoutOnce() {
                const wordEls = Array.from(cloud.querySelectorAll('.tools-word'));
                if (!wordEls.length) return true;

                const cw = cloud.clientWidth;
                const ch = cloud.clientHeight;
                if (!cw || !ch) return true;

                const padding = 12; // keep away from edges
                const gap = 8;      // minimum spacing between words

                // Measure words (center them so their transforms apply consistently)
                wordEls.forEach((el) => {
                    el.style.visibility = 'hidden';
                    el.style.setProperty('--x', (cw / 2) + 'px');
                    el.style.setProperty('--y', (ch / 2) + 'px');
                });

                // Force layout
                // eslint-disable-next-line no-unused-expressions
                cloud.offsetHeight;

                const items = wordEls.map((el, idx) => {
                    const r = el.getBoundingClientRect();
                    return {
                        el,
                        idx,
                        w: r.width,
                        h: r.height,
                        area: r.width * r.height,
                    };
                }).sort((a, b) => b.area - a.area);

                // Restore visibility before placing
                wordEls.forEach((el) => {
                    el.style.visibility = '';
                });

                const placed = [];
                const cx = cw / 2;
                const cy = ch / 2;

                const maxAttempts = 1400;
                const angleStep = 0.55;
                const radiusStep = 7.5;

                for (const item of items) {
                    const halfW = item.w / 2;
                    const halfH = item.h / 2;

                    const minX = padding + halfW;
                    const maxX = cw - padding - halfW;
                    const minY = padding + halfH;
                    const maxY = ch - padding - halfH;

                    if (minX > maxX || minY > maxY) return false;

                    let found = false;
                    const seed = (item.idx + 1) * 1.37;

                    for (let attempt = 0; attempt < maxAttempts; attempt++) {
                        const angle = attempt * angleStep + seed;
                        const radius = radiusStep * Math.sqrt(attempt);

                        let x = cx + radius * Math.cos(angle);
                        let y = cy + radius * Math.sin(angle);

                        x = clamp(x, minX, maxX);
                        y = clamp(y, minY, maxY);

                        const rect = {
                            left: x - halfW,
                            top: y - halfH,
                            right: x + halfW,
                            bottom: y + halfH,
                        };

                        let overlaps = false;
                        for (const p of placed) {
                            if (rectsOverlap(rect, p, gap)) {
                                overlaps = true;
                                break;
                            }
                        }
                        if (overlaps) continue;

                        item.el.style.setProperty('--x', x + 'px');
                        item.el.style.setProperty('--y', y + 'px');
                        placed.push(rect);
                        found = true;
                        break;
                    }

                    if (!found) return false;
                }

                // Sanity check using the same model we used for placement (axis-aligned bboxes + gap)
                for (let i = 0; i < placed.length; i++) {
                    for (let j = i + 1; j < placed.length; j++) {
                        if (rectsOverlap(placed[i], placed[j], gap)) return false;
                    }
                }

                return true;
            }

            function layoutWithScaleFallback() {
                // Try a few scales (helps on smaller widths so we can still guarantee no overlap)
                const scales = [1, 0.96, 0.92, 0.88, 0.84, 0.80, 0.76];
                for (const s of scales) {
                    cloud.style.setProperty('--cloud-scale', String(s));
                    // Force layout before measuring/placing
                    // eslint-disable-next-line no-unused-expressions
                    cloud.offsetHeight;
                    if (layoutOnce()) return;
                }
            }

            const run = () => {
                if (!cloud.clientWidth || !cloud.clientHeight) return;
                layoutWithScaleFallback();
            };

            const runDebounced = debounce(run, 150);

            const start = () => {
                run();
                window.addEventListener('resize', runDebounced, { passive: true });
                if (window.ResizeObserver) {
                    const ro = new ResizeObserver(() => runDebounced());
                    ro.observe(cloud);
                }
            };

            if (document.fonts && document.fonts.ready) {
                document.fonts.ready.then(() => window.requestAnimationFrame(start));
            } else {
                window.addEventListener('load', start, { once: true });
            }
        }

        initToolsUsedWordMapping();
        initToolsUsedToolCloudLayout();
        initToolsUsedWordCloudLayout();

        // Principles cards are now static (no stack / navigation JS needed).
    </script>

    <script>
        // Values cards: hanging stars with gravity drop on hover (isolated script so it still runs even if earlier code errors)
        window.addEventListener('DOMContentLoaded', () => {
            try {
                const cards = document.querySelectorAll('.value-card');
                if (!cards.length) return;

                const STAR_COUNT = 7;
                const TOP_PADDING_PX = 2;          // thread starts at top edge
                const STAR_START_RAISE_PX = 12;    // start stars higher to avoid overlapping title text
                const MIN_THREAD_PX = 6;           // random starting y position (thread length)
                const MAX_THREAD_PX = 28;
                const MIN_STAR_PX = 18;            // random star sizes (bigger so they read well)
                const MAX_STAR_PX = 28;
                const BOTTOM_MARGIN_PX = 14;       // stop just before bottom edge
                const GRAVITY_PX_PER_S2 = 3400;     // gravity acceleration
                const RESTITUTION = 0.42;           // bounce energy (0..1)
                const BOUNCE_DAMPING = 0.90;        // extra damping per bounce
                const SETTLE_VY_EPS = 60;           // px/s threshold to stop bouncing
                const SETTLE_Y_EPS = 0.6;           // px threshold to stop

                // Swing (simple damped pendulum-ish)
                const SWING_K = 14.0;               // spring back to 0 angle
                const SWING_DAMP = 6.0;             // angular damping
                const SWING_IMPULSE = 0.0019;       // how much falling injects swing
                const SWING_MAX_DEG = 20;           // clamp

                // Hover-out return (spring)
                const RETURN_K = 78;                // spring strength
                const RETURN_DAMP = 14;             // damping

                const stateByCard = new WeakMap();

                const clamp = (n, min, max) => Math.max(min, Math.min(max, n));
                const randInt = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;
                const easeOutCubic = (t) => 1 - Math.pow(1 - t, 3);

                function setStarPosition(starWrap, threadPx) {
                    const threadEl = starWrap.querySelector('.thread');
                    const starEl = starWrap.querySelector('.star');
                    const h = Math.max(0, threadPx);
                    if (threadEl) threadEl.style.height = (TOP_PADDING_PX + h) + 'px';
                    if (starEl) starEl.style.top = (TOP_PADDING_PX + h) + 'px';
                    starWrap.dataset.currentThread = String(h);
                }

                function setStarSwing(starWrap, angleDeg) {
                    const starEl = starWrap.querySelector('.star');
                    if (!starEl) return;
                    // translateX stays, rotate around top
                    starEl.style.transform = `translateX(-50%) rotate(${angleDeg}deg)`;
                }

                function buildStars(card) {
                    const layer = card.querySelector('.value-card-bg-pattern');
                    if (!layer) return [];

                    layer.innerHTML = '';

                    const stars = [];
                    for (let i = 0; i < STAR_COUNT; i++) {
                        const xPct = ((i + 1) / (STAR_COUNT + 1)) * 100; // equal spacing
                        const size = randInt(MIN_STAR_PX, MAX_STAR_PX);
                        const thread = randInt(MIN_THREAD_PX, MAX_THREAD_PX);
                        const startThread = Math.max(0, thread - STAR_START_RAISE_PX);

                        const wrap = document.createElement('div');
                        wrap.className = 'hanging-star';
                        wrap.style.left = xPct + '%';
                        wrap.dataset.initialThread = String(startThread);
                        wrap.dataset.size = String(size);
                        wrap.dataset.seed = String((Math.random() * 2 - 1) || 0.3); // per-star swing polarity

                        const threadEl = document.createElement('div');
                        threadEl.className = 'thread';

                        const starEl = document.createElement('div');
                        starEl.className = 'star';
                        starEl.style.width = size + 'px';
                        starEl.style.height = size + 'px';
                        starEl.innerHTML =
                            "<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' width='100' height='100' aria-hidden='true' focusable='false'>" +
                            "<path d='M50 6 L62 38 L96 38 L68 58 L78 92 L50 72 L22 92 L32 58 L4 38 L38 38 Z' fill='white' stroke='none'/>" +
                            "</svg>";

                        wrap.appendChild(threadEl);
                        wrap.appendChild(starEl);
                        layer.appendChild(wrap);

                        setStarPosition(wrap, startThread);
                        setStarSwing(wrap, 0);
                        stars.push(wrap);
                    }

                    return stars;
                }

                function stopAnimation(card) {
                    const st = stateByCard.get(card);
                    if (!st) return;
                    if (st.raf) cancelAnimationFrame(st.raf);
                    st.raf = 0;
                    st.mode = 'idle';
                }

                function startFall(card) {
                    const st = stateByCard.get(card);
                    if (!st) return;

                    stopAnimation(card);

                    if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                        return;
                    }

                    const rect = card.getBoundingClientRect();
                    const cardH = rect.height;

                    st.mode = 'fall';
                    st.lastTs = performance.now();

                    st.stars.forEach((wrap) => {
                        wrap._vy = 0;
                        wrap._done = false;
                        wrap._ang = 0;
                        wrap._angV = 0;

                        const size = Number(wrap.dataset.size || 14);
                        const current = Number(wrap.dataset.currentThread || wrap.dataset.initialThread || 10);
                        const target = clamp(cardH - BOTTOM_MARGIN_PX - size, 0, cardH);

                        wrap._current = current;
                        wrap._target = target;
                    });

                    const tick = (ts) => {
                        const dt = Math.min(0.034, (ts - st.lastTs) / 1000);
                        st.lastTs = ts;

                        let allDone = true;
                        st.stars.forEach((wrap) => {
                            if (wrap._done) return;
                            allDone = false;

                            // Integrate vertical motion
                            wrap._vy += GRAVITY_PX_PER_S2 * dt;
                            wrap._current += wrap._vy * dt;

                            // Bounce at the bottom stop (with restitution)
                            if (wrap._current >= wrap._target) {
                                wrap._current = wrap._target;
                                wrap._vy = -wrap._vy * RESTITUTION;
                                wrap._vy *= BOUNCE_DAMPING;

                                if (Math.abs(wrap._vy) < SETTLE_VY_EPS) {
                                    wrap._vy = 0;
                                    wrap._done = true;
                                }
                            }

                            // Swing: inject from vertical velocity, then damp back to 0
                            const seed = Number(wrap.dataset.seed || 0.4);
                            wrap._angV += (wrap._vy * SWING_IMPULSE * seed);
                            // spring back toward 0
                            wrap._angV += (-SWING_K * wrap._ang) * dt;
                            wrap._angV *= Math.exp(-SWING_DAMP * dt);
                            wrap._ang += wrap._angV * dt;

                            // clamp angle
                            const maxRad = (SWING_MAX_DEG * Math.PI) / 180;
                            wrap._ang = clamp(wrap._ang, -maxRad, maxRad);

                            setStarPosition(wrap, wrap._current);
                            setStarSwing(wrap, (wrap._ang * 180) / Math.PI);
                        });

                        if (!allDone) {
                            st.raf = requestAnimationFrame(tick);
                        } else {
                            st.raf = 0;
                            st.mode = 'landed';
                            // Let it settle swing a bit (decay)
                            st.stars.forEach((wrap) => {
                                if (!wrap._ang) return;
                                // small residual sway will continue via hover-out spring logic
                            });
                        }
                    };

                    st.raf = requestAnimationFrame(tick);
                }

                function startReturn(card) {
                    const st = stateByCard.get(card);
                    if (!st) return;

                    stopAnimation(card);

                    if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                        st.stars.forEach((wrap) => setStarPosition(wrap, Number(wrap.dataset.initialThread || 10)));
                        return;
                    }

                    st.mode = 'return';
                    // Spring back to initial with damping + swing decay
                    st.lastTs = performance.now();
                    st.stars.forEach((wrap) => {
                        wrap._vy = 0;
                        wrap._done = false;
                        wrap._current = Number(wrap.dataset.currentThread || wrap.dataset.initialThread || 10);
                        wrap._target = Number(wrap.dataset.initialThread || 10);
                        if (typeof wrap._ang !== 'number') wrap._ang = 0;
                        if (typeof wrap._angV !== 'number') wrap._angV = 0;
                    });

                    const tick = (ts) => {
                        const dt = Math.min(0.034, (ts - st.lastTs) / 1000);
                        st.lastTs = ts;

                        let allDone = true;
                        st.stars.forEach((wrap) => {
                            if (wrap._done) return;
                            allDone = false;

                            // spring force toward target: a = -k(x - x0) - c*v
                            const x = wrap._current;
                            const x0 = wrap._target;
                            const ax = -RETURN_K * (x - x0) - RETURN_DAMP * wrap._vy;
                            wrap._vy += ax * dt;
                            wrap._current += wrap._vy * dt;

                            // decay swing to 0 with a bit of springiness
                            wrap._angV += (-SWING_K * wrap._ang) * dt;
                            wrap._angV *= Math.exp(-SWING_DAMP * dt);
                            wrap._ang += wrap._angV * dt;

                            if (Math.abs(wrap._vy) < SETTLE_VY_EPS && Math.abs(wrap._current - x0) < SETTLE_Y_EPS) {
                                wrap._current = x0;
                                wrap._vy = 0;
                                wrap._done = true;
                                wrap._ang = 0;
                                wrap._angV = 0;
                            }

                            setStarPosition(wrap, wrap._current);
                            setStarSwing(wrap, (wrap._ang * 180) / Math.PI);
                        });

                        if (!allDone) st.raf = requestAnimationFrame(tick);
                        else { st.raf = 0; st.mode = 'idle'; }
                    };

                    st.raf = requestAnimationFrame(tick);
                }

                cards.forEach((card) => {
                    const stars = buildStars(card);
                    stateByCard.set(card, { stars, mode: 'idle', raf: 0, lastTs: 0 });
                    card.addEventListener('mouseenter', () => startFall(card));
                    card.addEventListener('mouseleave', () => startReturn(card));
                });
            } catch (e) {
                // swallow to avoid breaking the page
            }
        });
    </script>
</body>
</html>

